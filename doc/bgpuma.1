.\" Automatically generated by Pod::Man 2.28 (Pod::Simple 3.29)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "BGPUMA 1"
.TH BGPUMA 1 "2015-02-23" "perl v5.16.3" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
bgpuma \-\- A program to search BGP Update files for CIDR blocks or Autonomous Systems
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
bgpuma \-\-file=\fIpath\fR \-\-cidrfile=<path> \-\-outfile=<path>
bgpuma \-\-file=\fIpath\fR \-\-asnfile=<path> \-\-outfile=<path>
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \s-1BGP\s0 update files are stored in the \s-1MRT\s0 format and are not easily searchable.  This program seeks to fix that issue by allowing you to search the files for not only the \s-1CIDR\s0 block in question but for any \s-1CIDR\s0 blocks which contain the \s-1CIDR\s0 block in question and also any \s-1CIDR\s0 blocks which are contained in the that block.  In other words, it will not only find exact matches for 127.0.0.0/9 but will also find any announcements or withdrawals for 127.0.0.0/8 and 127.1.0.0/16.  This allows you to find any announcements or withdrawals that could potentially affect a netblock.  In addition, the ability to search for Autonomous Systems by number is included.
.PP
The options include:
.IP "\-\-verbose" 4
.IX Item "--verbose"
Prints extra output during the searching operation.  This is useful for debugging.
.IP "\-\-cidrfile=\fIfile\fR" 4
.IX Item "--cidrfile=file"
The file containing a list of the \s-1CIDR\s0 blocks to look for.
.IP "\-\-asnfile=\fIfile\fR" 4
.IX Item "--asnfile=file"
The file that contains a list of Autonomous System numbers to search for.
.IP "\-\-or" 4
.IX Item "--or"
If you use both of the \-\-asnfile and the \-\-cidrfile options, by default \fBbgpuma\fR looks for lines that satisfy both lists.  Using this flag turns that 'and' into an 'or'.
.IP "\-\-update=\fIfile\fR" 4
.IX Item "--update=file"
A single \s-1BGP\s0 update file to search.
.IP "\-\-file=\fIfile\fR" 4
.IX Item "--file=file"
A file containing a list of \s-1BGP\s0 update files to search.
.IP "\-\-startdate=\fI\s-1YYYYMMDD\s0\fR \-\-enddate=\fI\s-1YYYYMMDD\s0\fR" 4
.IX Item "--startdate=YYYYMMDD --enddate=YYYYMMDD"
These two flags must be used together. \fBbgpuma\fR understands the directory structure used by both the \s-1RIPE\s0 Routing Information Service and the Route Views Archive Project.  If you have access to these files via a file system, then \fBbgpuma\fR can search across a date range.
.IP "\-\-dir=\fIdir\fR" 4
.IX Item "--dir=dir"
This flag should be used in conjunction with the \-\-startdate and \-\-enddate flags.  It tells \fBbgpuma\fR that the files for either \s-1RIPE\s0 or Route Views are contained in that directory.  It can be used more than once, in which case it will search first one directory for a date and then the other.
.IP "\-\-outfile=\fIoutfile\fR" 4
.IX Item "--outfile=outfile"
The output file for \fBbgpuma\fR results.  By default, \fBbgpuma\fR prints the results to standard out.
.IP "\-\-help" 4
.IX Item "--help"
Lists the flags available in \fBbgpuma\fR.
.SH "OUTPUT"
.IX Header "OUTPUT"
\&\fBbgpuma\fR finds both the additions and the withdrawals in the routing table.  For additions, the output is in pipe delimited format and includes:
.IP "Time Seen" 4
.IX Item "Time Seen"
.PD 0
.IP "\s-1IP\s0 address announcing the route" 4
.IX Item "IP address announcing the route"
.IP "Autonomous System announcing the route" 4
.IX Item "Autonomous System announcing the route"
.IP "\s-1IP\s0 address receiving the announcement" 4
.IX Item "IP address receiving the announcement"
.IP "Autonomous System receiving the announcement" 4
.IX Item "Autonomous System receiving the announcement"
.IP "The \s-1CIDR\s0 announced" 4
.IX Item "The CIDR announced"
.IP "The path in question" 4
.IX Item "The path in question"
.PD
.PP
For withdrawals, the output contains the same as the additions except it does not include the path.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
SiLK and BGPdump
